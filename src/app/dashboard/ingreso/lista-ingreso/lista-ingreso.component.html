<app-section-title icon="fa fa-sign-in" title="Lista ingresos"></app-section-title>
<div class="row">
  <div class="col text-right mb-3">
    <button class="btn btn-success btn-sm m-0 pull-right" (click)="add()" [ngbTooltip]="'Nuevo Registro'"><i
      class="fa fa-plus fa-lg"></i></button>
    <input type="text" class="form-control form-control-sm pull-right mr-2" style="max-width: 12rem"
           [(ngModel)]="filter"
           placeholder="Buscar">
  </div>
</div>
<div class="table-responsive">
  <table class="table">
    <thead>
    <tr>
      <th (click)="sort('folio')" class="text-center">
          <span *ngIf="key == 'folio'" class="fa"
                [ngClass]="{'fa-chevron-circle-down':reverse, 'fa-chevron-circle-up':!reverse}"></span>
        Folio
      </th>
      <th (click)="sort('expediente')" class="text-center">
          <span *ngIf="key == 'expediente'" class="fa"
                [ngClass]="{'fa-chevron-circle-down': reverse, 'fa-chevron-circle-up': !reverse}"></span>
        Numero de Expediente
      </th>
      <th (click)="sort('tipo')" class="text-center">
          <span *ngIf="key == 'tipo'" class="fa"
                [ngClass]="{'fa-chevron-circle-down': reverse, 'fa-chevron-circle-up': !reverse}"></span>
        Tipo de ingreso
      </th>
      <th class="text-center" style="min-width: 5rem">Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr
        *ngFor="let item of data | orderBy: key : reverse | filter:filter | paginate: { itemsPerPage: 5, currentPage: p }; let i = index"
        (click)="setClickedRow(i)" [class.active]="i == selectedRow">
      <td class="text-center">{{item.folio}}</td>
      <td class="text-center">{{item.numeroExpediente}}</td>
      <td class="text-center">{{item.tipoIngreso}}</td>
      <td class="text-center">
        <i class="fa fa-eye" placement="top" ngbTooltip="Consultar Ingreso" (click)="goTo('form-ingreso', item)"></i>
        &nbsp;
        <i class="fa fa-male" placement="top" ngbTooltip="Referencias" (click)="goTo('referencias', item)"></i>
        &nbsp;
        <i class="fa fa-pencil-square-o" placement="top" ngbTooltip="Situacion Penal" (click)="goTo('situacion-penal', item)"></i>
        &nbsp;
      </td>
    </tr>

    <tr *ngIf="data.length == 0">
      <td colspan="6">{{isLoading ? 'Cargando...' : 'Sin registros...'}}</td>
    </tr>
    </tbody>
  </table>
  <div class="text-center w-100">
    <pagination-controls autoHide="true" responsive="true" previousLabel="" nextLabel="" (pageChange)="switch($event)">
    </pagination-controls>
  </div>
</div>
